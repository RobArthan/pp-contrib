=TEX
% TQtemplate.tex
\documentstyle[hol1,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{DRA FRONT END FILTER PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Errors in the SSQL Specification}  %% Mandatory field
\TPPref{DS/FMU/FEF/002}  %% Mandatory field
\def\SCCSversion{$Revision$
}
\TPPissue{\SCCSversion}  %% Mandatory field
\TPPdate{\FormatDate{$Date$
}}  %% Mandatory field (with sensible default)
\TPPstatus{Informal}			%% Mandatory field
\TPPtype{Technical Note}
\TPPkeywords{}
\TPPauthor{G.~M.~Prout & WIN01}  %% Mandatory field
%\TPPauthors{Name 1&location 1\\Name 2&location 2\\Name 3&location 3}
\TPPauthorisation{R.B.~Jones & HAT Manager}
\TPPabstract{A record of errors found in the SSQL specification, and changes made from Annex 2 
of the ITT for the DRA front end filter project RSRE 1C/6130.}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
	HAT FEF File 
}}
%\TPPclass{CLASSIFICATION}
\newfont{\icllogo}{icllogo50}
\def\TPPheadlhs{$\vcenter{\halign{##\cr\icllogo ICL\cr}}$}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}

\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

%\bf Copyright \copyright\ : International Computers Ltd \number\year

\end{centering}

\newpage
\section {DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\subsection{Document Cross References}
\bibliographystyle{fmu}
\bibliography{fmu,fef}

\subsection{Changes History}
\subsection{Changes Forecast}
None
\pagebreak
\section{GENERAL}
\subsection{Scope}
This document provides a record of the errors found in the
SSQL specifications provided by DRA. It also indicates alterations made from
the original specification.
\subsection{Introduction}
The basis of contract RSRE 1C/6130 is the Secure Database Technical Proposal, \cite{DS/FMU/017}. The SSQL specifications referred to in that document are those of the Annexes to the ITT, \cite{ittdra}. Since ICL's bid was accepted, we have been supplied with two new versions of specifications of secure SSQL. This document outlines errors found in these two new specifications. This document also indicates changes made from the ITT specifications, including substantial additions to those original specifications.
\section{ERRORS IN SPECIFICATION OF 28/2/92}
\begin{table}[hbp]
\center
\begin{tabular}{|l|p{5.5in}|}\hline
Page  &  Description  \\\hline \hline
8,9	& $col\_name$ in all three $Set\_clause$ functions should be $Col\_name$. \\\hline
25	& $nullValue$ missing from error list.\\\hline
26	& $Val$  may be of type $Code$.\\\hline
27	& $Float$ already used as an identifier.\\\hline
28	& Spurious reference to column existence classification. \\\hline
28	& $TableSpec$ has spurious argument $Class$. \\\hline
30	& $\_lub\_$ for `worths' should be of 
type $Worth\ ­\ Worth\ ­\ Worth$ . \\\hline
33	&  Type error in second definition of\ $\_**\_$ ($a$ is not a list; should be nil).\\\hline
34	& $projectTuples$ should take a $Table\_spec$ not a $TableSpec$. Brackets missing around $visible\ spec$.\\\hline
37	& All references to $Action$ should be to $Query$, except $action$ and $guaranteed\_action$ which should
be removed. Missing arguments from $update$.\\\hline
38	& $Action$ no longer a syntactic function.\\\hline
39	& $set\_func\_all$ and $set\_func\_distinct$ call $Value$ which has missing $v$ argument.\\\hline
41	& Error in description of $Table\_spec$. \\\hline
45,46	& In $Query\ delete$ and $Query\ update$, argument to $changeSpec$  has incorrect type. \\\hline \hline
\end{tabular}
\caption{Errors in 28/2/92 spec}
\label{FEB}
\end{table}
\newpage
\section{ERRORS IN SPECIFICATION OF 18/3/92}

\begin{table}[hbp]
\center
\begin{tabular}{|l|p{5.5in}|}\hline
Page  &  Description  \\\hline \hline
7	& Constructor $vase$ should be $case$. \\\hline
7	& $row\_existence$ and $joined\_row\_existence$ missing from list of constructors.\\\hline
10	& $col\_name$ in all three $Set\_clause$ functions should be $Col\_name$.\\\hline
27	& $notGuaranteed$ no longer relevant. No errors for when a user tries to access a table whose classification is not dominated by his clearance. \\\hline
30	& $Tab$ is used in definition of $Reference$ although it has not yet been defined.\\\hline
33	& $\_lub\_$ for `worths' should be of 
type $Worth\ ­\ Worth\ ­\ Worth$ . \\\hline
35	&  Type error in second definition of\ $\_**\_$ ($a$ is not a list; should be nil).\\\hline
36	& $projectTuples$ should take a $Table\_spec$ not a $TableSpec$. Brackets missing around $visible\ spec$.\\\hline
37	& All references to $Action$ should be to $Query$, except $action$ and $guaranteed\_action$ which should
be removed. Missing arguments from $update$.\\\hline
38	& $Action$ no longer a syntactic function.\\\hline
39	& $set\_func\_all$ and $set\_func\_distinct$ call $Value$ which has missing $v$ argument.\\\hline
41	& Error in description of $Table\_spec$. \\\hline
45,46	& In $Query\ delete$ and $Query\ update$, argument to $changeSpec$  has incorrect type. \\\hline \hline
51	& The description of  $Query\ update$ implies that classification of a field can only be raised.  \\\hline \hline
\end{tabular}
\caption{Errors in 18/3/92 spec}
\label{MAR}
\end{table}

\section{ADDITIONS AND CHANGES TO ANNEX 2}
\subsection{Specification of 28/2/92}
\begin{enumerate}
\item
$Action$ is no longer a sort.
\item
Constructor $let$ added; constructors $action$ and $guaranteed\_action$  deleted.
\item
Constructor $update$ has extra clauses $groupby$ and $having$.
\item
Operators $definitely$ and $possibly$ added.
\item
Errors $noSuchTable$, $noSuchDirectory$, $ambiguousEvaluate$, $ambiguousHaving$ 
and $nullValue$ have been added.
\item
$tooTall$ changed
\item
$GroupedResult$, $Maybe$ and $MaybeResult$ added. 
\item
$make\_data$ now classified at user's clearance rather than bottom
\item
Definition of $lookup$ in place.
\item
$check\_where\_complete$ added.
\item
$resultBool$ and $resultClass$ changed.
\item
$engroup$ and $eliminate$ added (because of `groupby' and `having').
\item
Significant changes made to syntactic clauses and functions because of new/different constructors and because of identified `holes' in Annex 2 to the ITT \cite{ittdra} being plugged.
\end{enumerate}

\subsection{Specification of 18/3/92}
Modifications on 28/2/92 version are marked by sidelines.
\section{FURTHER ISSUES}
There is a problem if a user tries to access a table whose classification is not dominated by his clearance;
suggest an $accessDenied$ error message.
\section{PHASE TWO ERRORS}
Many errors reported in the transformation specs of 06/01/93 (see file of replaced specs).

The following  give rise to possible security violations: 
\subsection{Output Filter}
Output filter specs faxed on 21st January incorrect.
\subsubsection{Definitions}
Function $filter\_where$ should discard rows where boolean is 
true.

\subsubsection{Select Query Filter}
Check query which determines whether or not a SELECT should
 proceed has been omitted.
\subsection{Transformations}
\subsubsection{Inner Selects}
Insecurity reported on 16th February. Problem with
=GFT SSQL query
SELECT * FROM
	SELECT X FROM Y GROUPBY Z
=TEX
With an outer select, if user is not cleared to see everything 
in the groupby column, then an additional TSQL check query 
is generated. Not the case with an inner select. $tuple\_listèmake\_outerê$ checks groupbys, $tuple\_listèmakeê$ does not.
\subsubsection{Column Existence}
Column existence class `forgotten' in transformations.

\end{document}




