SRC=utf8pp.c pputf8.c genutf8tabs.ML Makefile
EXPORTSRC=utf8pp.c pputf8.c pputf8tab.h utf8pptab.h Makefile

default: pputf8 utf8pp

pputf8tab.h utf8pptab.h: genutf8tabs.ML
	pp -n -f genutf8tabs.ML -d hol

pputf8.o: pputf8tab.h

pputf8: pputf8.o
	gcc -o pputf8 pputf8.o

utf8pp.o: utf8pptab.h

utf8pp: utf8pp.o
	gcc -o utf8pp utf8pp.o

tgz: $(SRC)
	tar cvfz pputf8.tgz $(SRC)

export: $(EXPORTSRC)
	tar cvfz pputf8-export.tgz $(EXPORTSRC)

